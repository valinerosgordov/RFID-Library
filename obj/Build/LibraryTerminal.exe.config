<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8" />
  </startup>

  <appSettings>

    <!-- === IRBIS / подключение === -->
    <add key="connection-string" value="host=127.0.0.1;port=6666;user=MASTER;password=MASTERKEY;db=IBIS" />
    <!-- Основные базы -->
    <add key="BooksDb" value="IBIS" />
    <add key="ReadersDb" value="RDR" />
    <!-- === Поисковые выражения === -->
    <!-- Читатель по UID -->
    <add key="ExprReaderByUidList" value="&quot;RI={0}&quot;;&quot;RFID={0}&quot;;&quot;CCUID={0}&quot;" />
    <!-- Книга по инвентарному (910^b) -->
    <add key="ExprBookByInv" value="&quot;IN={0}&quot;" />
    <!-- Книга по RFID (910^h) -->
    <add key="ExprBookByRfid" value="&quot;IN={0}&quot;" />
    <!-- Читатель по RFID экземпляра (закрытие 40 поля) — остаётся H= -->
    <add key="ExprReaderByItemRfid" value="&quot;H={0}&quot;" />
    <!-- === Нормализация UID === -->
    <add key="UidUpperHex" value="true" />
    <add key="UidStripDelimiters" value="true" />
    <add key="ReaderUidField" value="30" />
    <!-- === Форматы/маски === -->
    <add key="BriefFormat" value="@brief" />
    <add key="MaskMrg" value="09" />
    <add key="UseSubfieldR_ReturnPlace" value="true" />
    <!-- === Поля экземпляра === -->
    <add key="BookStatusTag" value="910" />
    <add key="BookStatusCode" value="a" />
    <add key="BookRfidCode" value="h" />
    <!-- === Режимы диагностики === -->
    <add key="UseEmulator" value="true" />
    <add key="DryRun" value="false" />
    <add key="DemoKeys" value="true" />
    <!-- === COM-порты и скорости === -->
    <add key="CardReaderPort" value="COM3" />
    <add key="BookTakePort" value="COM5" />
    <add key="BookReturnPort" value="COM5" />
    <add key="ArduinoPort" value="COM6" />
    <!-- Скорости -->
    <add key="BaudRate" value="115200" />
    <add key="BaudBookTake" value="9600" />
    <add key="BaudBookReturn" value="9600" />
    <add key="BaudArduino" value="115200" />
    <add key="RruBaudRate" value="115200" />
    <add key="BaudIqrfid" value="9600" />
    <!-- Разделители строк -->
    <add key="NewLine" value="\n" />
    <add key="NewLineBookTake" value="\r\n" />
    <add key="NewLineBookReturn" value="\r\n" />
    <add key="NewLineArduino" value="\n" />
    <!-- Для RRU9816 по умолчанию LF; у тебя стоял CRLF -->
    <add key="NewLineRru" value="\n" />
    <add key="NewLineIqrfid" value="\r\n" />

    <!-- Тайминги -->
    <add key="ReadTimeoutMs" value="1000" />
    <add key="WriteTimeoutMs" value="1000" />
    <add key="AutoReconnectMs" value="1500" />
    <add key="DebounceMs" value="250" />

    <!-- === EPC / ключи === -->
    <add key="UseEpcBookKey" value="false" />
  </appSettings>
</configuration>